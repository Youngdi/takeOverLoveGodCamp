webpackJsonp([1],Array(43).concat([function(t,e,s){s(131);var o=s(2)(s(79),s(163),"data-v-5f8e8f15",null);t.exports=o.exports},function(t,e,s){s(132);var o=s(2)(s(80),s(164),"data-v-6c54ca3e",null);t.exports=o.exports},,,function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(6),n=o(a),i=s(168),r=o(i),l=s(154),u=o(l),c=s(157),m=o(c),g=s(153),d=o(g);n.default.use(r.default),e.default=new r.default({routes:[{path:"/",name:"Index",component:u.default},{path:"/robot",name:"Robot",component:m.default},{path:"/home",name:"Home",component:d.default}]})},function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(6),n=o(a),i=s(3),r=o(i),l=s(54),u=o(l);n.default.use(r.default);var c=new r.default.Store({state:{user:{name:"",src:""},messhistory:{infos:[]},roomdetail:{id:"",users:{},infos:[]},robotmsg:[{message:"Hi~有什么想知道的可以问我",user:"robot"}],chattoggle:!1,logintoggle:!1,registertoggle:!0,dialog:!1,dialoginfo:""},getters:{getid:function(t){return t.roomdetail.id},getusers:function(t){return t.roomdetail.users},getinfos:function(t){return t.roomdetail.infos},getchattoggle:function(t){return t.chattoggle},getlogintoggle:function(t){return t.logintoggle},getregistertoggle:function(t){return t.registertoggle},getdialog:function(t){return t.dialog},getdialoginfo:function(t){return t.dialoginfo},getusername:function(t){return t.user.name},getusersrc:function(t){return t.user.src},getmesshistoryinfos:function(t){return t.messhistory.infos},getrobotmsg:function(t){return t.robotmsg}},mutations:{changechattoggle:function(t){t.chattoggle=!t.chattoggle},openlogintoggle:function(t){t.logintoggle=!0},closelogintoggle:function(t){t.logintoggle=!1},openregistertoggle:function(t){t.registertoggle=!0},closeregistertoggle:function(t){t.registertoggle=!1},changedialog:function(t){t.dialog=!t.dialog},changedialoginfo:function(t,e){t.dialoginfo=e},setusername:function(t,e){t.user.name=e},setusersrc:function(t,e){t.user.src=e},addroomdetailinfos:function(t,e){t.roomdetail.infos.push(e)},setusers:function(t,e){t.roomdetail.users=e},setmesshistoryinfos:function(t,e){t.messhistory.infos=e},setrobotmsg:function(t,e){t.robotmsg.push(e)}},actions:{registersubmit:function(t,e){var s=t.commit;console.log(e),u.default.post("/user/signup",e).then(function(t){0===t.data.errno?(s("closeregistertoggle"),s("openlogintoggle"),s("changedialog"),s("changedialoginfo",t.data.data)):(s("changedialog"),s("changedialoginfo",t.data.data))}).catch(function(t){console.log(t)})},loginsubmit:function(t,e){var s=t.commit;u.default.post("/user/signin",e).then(function(t){0===t.data.errno?(s("closelogintoggle"),s("changedialog"),s("changedialoginfo",t.data.data),s("setusername",t.data.name),s("setusersrc",t.data.src)):(s("changedialog"),s("changedialoginfo",t.data.data))}).catch(function(t){console.log(t)})},getmesshistory:function(t){var e=t.commit;u.default.get("/message").then(function(t){e("setmesshistoryinfos",t.data.data)}).catch(function(t){console.log(t)})},getrobatmess:function(t,e){var s=t.commit,o="";u.default.get("/robotapi",{params:e}).then(function(t){if(o=JSON.parse(t.data.data),1e5===o.code)s("setrobotmsg",{message:o.text,user:"robot"});else if(2e5===o.code){var e=o.text+o.url;s("setrobotmsg",{message:e,user:"robot"})}else o.code,s("setrobotmsg",{message:"暂不支持此类对话",user:"robot"})}).catch(function(t){console.log(t)})}}});e.default=c},function(t,e){},,function(t,e,s){s(126);var o=s(2)(s(73),s(158),null,null);t.exports=o.exports},,,,,,,,,,,,,,,,,,,,,function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var a=s(6),n=o(a),i=s(51),r=o(i),l=s(47),u=o(l),c=s(48),m=o(c),g=s(50),d=o(g);s(49),n.default.use(d.default),n.default.config.productionTip=!1,new n.default({el:"#app",router:u.default,store:m.default,template:"<App/>",components:{App:r.default}})},function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(151),n=o(a),i=s(155),r=o(i),l=s(156),u=o(l),c=s(152),m=o(c);e.default={data:function(){return{bottomNav:"recents"}},methods:{handleChange:function(t){this.bottomNav=t}},components:{Chat:n.default,Login:r.default,Register:u.default,Dialogmodel:m.default}}},function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(4),n=o(a),i=s(43),r=o(i),l=s(44),u=o(l),c=s(3),m=s(37),g=o(m);e.default={data:function(){return{socket:""}},created:function(){var t=this;this.socket=g.default.connect("http://localhost:8081"),this.socket.on("message",function(e){t.$store.commit("addroomdetailinfos",e),window.scrollTo(0,9e5)}),this.socket.on("logout",function(e){t.$store.commit("setusers",e)})},methods:{closechat:function(){this.$store.commit("changechattoggle"),this.socket.emit("logout",this.getusername)},submess:function(){if(""!==document.getElementById("message").value){var t={username:this.getusername,src:this.getusersrc,msg:document.getElementById("message").value};this.socket.emit("message",t),document.getElementById("message").value=""}else this.$store.commit("changedialog"),this.$store.commit("changedialoginfo","内容不能为空")}},computed:(0,n.default)({},(0,c.mapGetters)(["getinfos","getchattoggle","getusername","getusersrc","getusers","getmesshistoryinfos"])),components:{Mymsg:r.default,Othermsg:u.default}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(4),a=function(t){return t&&t.__esModule?t:{default:t}}(o),n=s(3);e.default={methods:{open:function(){this.$store.commit("changedialog")},close:function(){this.$store.commit("changedialog")}},computed:(0,a.default)({},(0,n.mapGetters)(["getdialog","getdialoginfo"]))}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(4),a=function(t){return t&&t.__esModule?t:{default:t}}(o),n=s(3);e.default={computed:(0,a.default)({},(0,n.mapGetters)(["getusersrc","getusername"])),methods:{logout:function(){this.$store.commit("setusername",""),this.$store.commit("setusersrc",""),this.$store.commit("openlogintoggle")}}}},function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(4),n=o(a),i=s(3),r=s(37),l=o(r);e.default={name:"hello",data:function(){return{socket:""}},created:function(){var t=this;this.socket=l.default.connect("http://localhost:8081"),this.socket.on("login",function(e){t.$store.commit("setusers",e)}),this.$nextTick(function(){this.getusername&&(this.$store.commit("closeregistertoggle"),this.$store.commit("closelogintoggle"))})},computed:(0,n.default)({},(0,i.mapGetters)(["getusername","getusersrc"])),methods:{chatwindow:function(){this.$store.commit("changechattoggle");var t={name:this.getusername,src:this.getusersrc};this.socket.emit("login",t),this.$store.dispatch("getmesshistory")}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(4),a=function(t){return t&&t.__esModule?t:{default:t}}(o),n=s(3);e.default={data:function(){return{loading:""}},methods:{submit:function(){var t=document.form2.username.value.trim(),e=document.form2.password.value.trim();if(console.log(e),""!==t&&""!==e){var s={name:t,password:e};this.$store.dispatch("loginsubmit",s),document.form2.reset()}else this.$store.commit("changedialog"),this.$store.commit("changedialoginfo","帐号密码不能为空")},register:function(){this.$store.commit("openregistertoggle"),this.$store.commit("closelogintoggle")}},computed:(0,a.default)({},(0,n.mapGetters)(["getlogintoggle"]))}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["name","img","msg"]}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["name","img","msg"]}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(4),a=function(t){return t&&t.__esModule?t:{default:t}}(o),n=s(3);e.default={methods:{submit:function(){var t=document.form1.username.value.trim(),e=document.form1.password.value.trim(),s="./static/img/"+Math.ceil(10*Math.random())+".jpg";if(""!==t&&""!==e){var o={name:t,password:e,src:s};this.$store.dispatch("registersubmit",o)}else this.$store.commit("changedialog"),this.$store.commit("changedialoginfo","帐号密码不能为空")},login:function(){this.$store.commit("openlogintoggle"),this.$store.commit("closeregistertoggle")}},computed:(0,a.default)({},(0,n.mapGetters)(["getregistertoggle"]))}},function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(4),n=o(a),i=s(43),r=o(i),l=s(44),u=o(l),c=s(3);e.default={methods:{sendmessage:function(){var t=document.getElementById("msg").value,e=this.getusername,s={info:t,id:e};this.$store.commit("setrobotmsg",{message:t,user:this.getusername}),this.$store.dispatch("getrobatmess",s),document.getElementById("msg").value="",window.scrollTo(0,9e5)}},computed:(0,n.default)({},(0,c.mapGetters)(["getusername","getrobotmsg","getusersrc"])),components:{Mymsg:r.default,Othermsg:u.default}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,,,,,,,,,,,function(t,e,s){s(129);var o=s(2)(s(74),s(161),"data-v-3b724048",null);t.exports=o.exports},function(t,e,s){s(127);var o=s(2)(s(75),s(159),null,null);t.exports=o.exports},function(t,e,s){s(133);var o=s(2)(s(76),s(165),"data-v-6e6af362",null);t.exports=o.exports},function(t,e,s){s(135);var o=s(2)(s(77),s(167),"data-v-b678f1dc",null);t.exports=o.exports},function(t,e,s){s(134);var o=s(2)(s(78),s(166),null,null);t.exports=o.exports},function(t,e,s){s(130);var o=s(2)(s(81),s(162),null,null);t.exports=o.exports},function(t,e,s){s(128);var o=s(2)(s(82),s(160),"data-v-2bcf86ac",null);t.exports=o.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view"),t._v(" "),s("div",{staticClass:"bottom"},[s("mu-paper",[s("mu-bottom-nav",{attrs:{value:t.bottomNav},on:{change:t.handleChange}},[s("mu-bottom-nav-item",{attrs:{value:"recents",title:"主页",icon:"restore",to:"/"}}),t._v(" "),s("mu-bottom-nav-item",{attrs:{value:"favorites",title:"机器人",icon:"favorite",to:"/robot"}}),t._v(" "),s("mu-bottom-nav-item",{attrs:{value:"nearby",title:"我的",icon:"location_on",to:"/home"}})],1)],1)],1),t._v(" "),s("chat"),t._v(" "),s("register"),t._v(" "),s("login"),t._v(" "),s("dialogmodel")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("mu-dialog",{attrs:{open:t.getdialog,title:"提示"},on:{close:t.close}},[t._v("\n        "+t._s(t.getdialoginfo)+"\n        "),s("mu-flat-button",{attrs:{primary:"",label:"取消"},on:{click:t.close},slot:"actions"}),t._v(" "),s("mu-flat-button",{attrs:{primary:"",label:"确定"},on:{click:t.close},slot:"actions"})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._l(t.getrobotmsg,function(e){return s("div",[e.user!=t.getusername?s("othermsg",{attrs:{name:e.user,img:"./static/img/robot.jpg",msg:e.message}}):t._e(),t._v(" "),e.user==t.getusername?s("mymsg",{attrs:{name:t.getusername,img:t.getusersrc,msg:e.message}}):t._e()],1)}),t._v(" "),s("div",{staticStyle:{height:"250px"}}),t._v(" "),s("div",{staticClass:"con-input"},[t._m(0),t._v(" "),s("mu-raised-button",{staticClass:"demo-raised-button",attrs:{label:"发送",primary:""},on:{click:t.sendmessage}})],1)],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input"},[s("input",{attrs:{type:"text",id:"msg"}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.getchattoggle,expression:"getchattoggle"}],staticClass:"container"},[s("div",{staticClass:"title"},[s("mu-appbar",{attrs:{title:"Title"}},[s("mu-icon-button",{attrs:{icon:"chevron_left"},on:{click:t.closechat},slot:"left"}),t._v(" "),s("div",{staticClass:"center"},[t._v("\n                    聊天("+t._s(Object.keys(t.getusers).length)+")\n                ")]),t._v(" "),s("mu-icon-button",{attrs:{icon:"expand_more"},slot:"right"})],1)],1),t._v(" "),s("div",{staticClass:"chat"},[s("div",{staticStyle:{height:"70px"}}),t._v(" "),s("div",[t._v("在线人员")]),t._v(" "),t._l(t.getusers,function(t){return s("div",{staticClass:"online"},[s("img",{attrs:{src:t.src,alt:""}})])}),t._v(" "),t._l(t.getmesshistoryinfos,function(e){return s("div",[e.username!=t.getusername?s("othermsg",{attrs:{name:e.username,img:e.src,msg:e.msg}}):t._e(),t._v(" "),e.username==t.getusername?s("mymsg",{attrs:{name:e.username,img:e.src,msg:e.msg}}):t._e()],1)}),t._v(" "),t._l(t.getinfos,function(e){return s("div",[e.username!=t.getusername?s("othermsg",{attrs:{name:e.username,img:e.src,msg:e.msg}}):t._e(),t._v(" "),e.username==t.getusername?s("mymsg",{attrs:{name:e.username,img:e.src,msg:e.msg}}):t._e()],1)}),t._v(" "),s("div",{staticStyle:{height:"120px"}})],2),t._v(" "),s("div",{staticClass:"bottom"},[s("div",{staticClass:"input"},[s("input",{attrs:{type:"text",id:"message"}})]),t._v(" "),s("mu-raised-button",{staticClass:"demo-raised-button",attrs:{label:"发送",primary:""},on:{click:t.submess}})],1)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.getregistertoggle,expression:"getregistertoggle"}],staticClass:"register"},[s("div",{staticClass:"header"},[s("mu-appbar",{attrs:{title:"Title"}},[s("mu-flat-button",{attrs:{label:"注册"},slot:"default"})],1)],1),t._v(" "),s("div",{staticClass:"content"},[s("form",{attrs:{action:"",name:"form1"}},[s("mu-text-field",{attrs:{label:"帐号",labelFloat:"",name:"username"}}),s("br"),t._v(" "),s("mu-text-field",{attrs:{label:"密码",type:"password",labelFloat:"",name:"password"}}),s("br"),t._v(" "),s("mu-raised-button",{attrs:{label:"注册",fullWidth:"",primary:""},on:{click:t.submit}})],1),t._v(" "),s("div",{on:{click:t.login}},[t._v("\n            我已有帐号\n        ")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"clear"},[s("div",{staticClass:"item"},[s("img",{attrs:{src:t.img,alt:""}}),t._v(" "),s("span",[t._v("\n        "+t._s(t.msg)+"\n    ")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"clear"},[s("div",{staticClass:"item"},[s("img",{attrs:{src:t.img,alt:""}}),t._v(" "),s("span",[t._v("\n        "+t._s(t.msg)+"\n        ")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"header"},[s("div",{staticClass:"head"},[s("img",{attrs:{src:t.getusersrc,alt:""}})]),t._v(" "),s("div",{staticClass:"name"},[t._v("\n            "+t._s(t.getusername)+"\n\n        ")]),t._v(" "),s("div",{staticClass:"background"},[s("img",{attrs:{src:t.getusersrc,alt:""}})])]),t._v(" "),s("div",{staticClass:"content"},[s("mu-list",[s("mu-list-item",{attrs:{title:"Inbox"}},[s("mu-icon",{attrs:{value:"inbox"},slot:"left"})],1),t._v(" "),s("mu-list-item",{attrs:{title:"Starred"}},[s("mu-icon",{attrs:{value:"grade"},slot:"left"})],1),t._v(" "),s("mu-list-item",{attrs:{title:"Sent mail"}},[s("mu-icon",{attrs:{value:"send"},slot:"left"})],1),t._v(" "),s("mu-list-item",{attrs:{title:"Drafts"}},[s("mu-icon",{attrs:{value:"drafts"},slot:"left"})],1)],1),t._v(" "),s("mu-divider"),t._v(" "),s("mu-list",[s("mu-list-item",{attrs:{title:"All mail"}},[s("mu-icon",{attrs:{value:"info"},slot:"right"})],1),t._v(" "),s("mu-list-item",{attrs:{title:"Trash"}},[s("mu-icon",{attrs:{value:"info"},slot:"right"})],1),t._v(" "),s("mu-list-item",{attrs:{title:"Spam"}},[s("mu-icon",{attrs:{value:"info"},slot:"right"})],1),t._v(" "),s("mu-list-item",{attrs:{title:"Follow up"}},[s("mu-icon",{attrs:{value:"info"},slot:"right"})],1)],1)],1),t._v(" "),s("div",{staticClass:"logout"},[s("mu-raised-button",{staticClass:"demo-raised-button",attrs:{label:"退出",fullWidth:""},on:{click:t.logout}})],1),t._v(" "),s("div",{staticStyle:{height:"80px"}})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.getlogintoggle,expression:"getlogintoggle"}],staticClass:"login"},[s("div",{staticClass:"header"},[s("mu-appbar",{attrs:{title:"Title"}},[s("mu-flat-button",{attrs:{label:"登录"},slot:"default"})],1)],1),t._v(" "),s("div",{staticClass:"content"},[s("form",{attrs:{action:"",name:"form2"}},[s("mu-text-field",{attrs:{label:"帐号",labelFloat:"",name:"username"}}),s("br"),t._v(" "),s("mu-text-field",{attrs:{label:"密码",type:"password",labelFloat:"",name:"password"}}),s("br"),t._v(" "),s("mu-raised-button",{attrs:{label:"登录",fullWidth:"",primary:""},on:{click:t.submit}})],1),t._v(" "),s("div",{on:{click:t.register}},[t._v("\n            注册帐号\n        ")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("div",[s("mu-list",[s("mu-sub-header",[t._v("最近聊天记录")]),t._v(" "),s("mu-list-item",{attrs:{title:"聊天室1"},on:{click:t.chatwindow}},[s("mu-avatar",{attrs:{src:"./static/img/1.jpg"},slot:"leftAvatar"}),t._v(" "),s("mu-icon",{attrs:{value:"chat_bubble"},slot:"right"})],1),t._v(" "),s("mu-list-item",{attrs:{title:"聊天室2"}},[s("mu-avatar",{attrs:{src:"./static/img/2.jpg"},slot:"leftAvatar"}),t._v(" "),s("mu-icon",{attrs:{value:"chat_bubble"},slot:"right"})],1),t._v(" "),s("mu-list-item",{attrs:{title:"聊天室3"}},[s("mu-avatar",{attrs:{src:"./static/img/3.jpg"},slot:"leftAvatar"}),t._v(" "),s("mu-icon",{attrs:{value:"chat_bubble"},slot:"right"})],1),t._v(" "),s("mu-list-item",{attrs:{title:"聊天室4"}},[s("mu-avatar",{attrs:{src:"./static/img/4.jpg"},slot:"leftAvatar"}),t._v(" "),s("mu-icon",{attrs:{value:"chat_bubble"},slot:"right"})],1),t._v(" "),s("mu-list-item",{attrs:{title:"聊天室5"}},[s("mu-avatar",{attrs:{src:"./static/img/5.jpg"},slot:"leftAvatar"}),t._v(" "),s("mu-icon",{attrs:{value:"chat_bubble"},slot:"right"})],1)],1),t._v(" "),s("mu-divider"),t._v(" "),s("mu-list",[s("mu-sub-header",[t._v("历史聊天记录")]),t._v(" "),s("mu-list-item",{attrs:{title:"聊天室6"}},[s("mu-avatar",{attrs:{src:"./static/img/6.jpg"},slot:"leftAvatar"}),t._v(" "),s("mu-icon",{attrs:{value:"chat_bubble"},slot:"right"})],1),t._v(" "),s("mu-list-item",{attrs:{title:"聊天室7"}},[s("mu-avatar",{attrs:{src:"./static/img/7.jpg"},slot:"leftAvatar"}),t._v(" "),s("mu-icon",{attrs:{value:"chat_bubble"},slot:"right"})],1)],1)],1)])},staticRenderFns:[]}},,,,,function(t,e){}]),[72]);
//# sourceMappingURL=app.d9e15a3de3edccae8b00.js.map